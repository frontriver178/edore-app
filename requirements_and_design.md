# Edore学習管理システム - 要件定義・設計書

## 1. システム概要

### 1.1 システム目的
- **塾の業務効率化**: 指導記録、面談記録、タスク管理の自動化
- **生徒情報の可視化**: 学習状況、進捗の見える化
- **属人的でない指導の推進**: 標準化された指導記録とナレッジ共有
- **プライバシー重視**: 必要最小限の個人情報のみ管理

### 1.2 想定規模
- **組織数**: 100塾（目標）
- **講師数**: 各塾10人程度
- **生徒数**: 各塾50人程度
- **総データ量**: 約5,000生徒、1,000講師の管理

### 1.3 主要ユーザー
- **塾管理者**: 組織全体の管理、講師管理、経営分析
- **講師**: 生徒指導、面談記録、進捗管理
- **生徒**: 学習状況確認、タスク管理（将来的）
- **保護者**: 子供の学習状況確認（将来的）

## 2. 機能要件

### 2.1 必須機能

#### 2.1.1 ユーザー管理
- 組織別のユーザー認証・認可
- 役割ベースのアクセス制御（管理者、講師、生徒）
- 組織間のデータ完全分離

#### 2.1.2 生徒管理
- 生徒基本情報管理（最小限）
- 学習状況の可視化
- 進捗ダッシュボード

#### 2.1.3 指導記録管理
- 授業記録の標準化
- 指導内容の検索・分析
- 講師間での情報共有

#### 2.1.4 面談管理
- **面談スケジュール管理**（新規追加）
- 面談記録の管理
- 面談結果の可視化

#### 2.1.5 タスク管理
- **生徒ごとのタスク管理**（新規追加）
- 宿題・課題の進捗管理
- 期限管理とリマインダー

#### 2.1.6 模試・評価管理
- 模試結果の管理
- 成績分析・レポート
- 目標設定と進捗追跡

### 2.2 将来的機能
- 生徒側インターフェース
- 保護者向けレポート
- 生徒側タスク・スケジュール管理
- 通知機能

## 3. データベース設計

### 3.1 主要テーブル構成

#### 3.1.1 認証・組織系
- `organizations` - 組織（塾）
- `users` - ユーザー（講師・管理者）
- `students` - 生徒

#### 3.1.2 指導管理系
- `teaching_records` - 指導履歴
- `student_interviews` - 面談記録
- `interview_schedules` - 面談スケジュール（新規）

#### 3.1.3 タスク管理系
- `student_tasks` - 生徒タスク（新規）
- `task_categories` - タスクカテゴリ（新規）

#### 3.1.4 評価系
- `mock_exam_results` - 模試結果
- `learning_objectives` - 学習目標（新規）
- `progress_tracking` - 進捗追跡（新規）

### 3.2 プライバシー考慮事項

#### 3.2.1 個人情報の最小化
- 必須：氏名、学年、連絡先（緊急時用）
- 削除：不要な個人属性情報
- 匿名化：統計分析時のデータ保護

#### 3.2.2 データ保持期間
- 在籍中：全データ保持
- 卒業後：学習記録のみ1年保持
- 退塾後：個人情報即時削除、匿名化記録のみ保持

### 3.3 セキュリティ要件
- Row Level Security（RLS）による組織間データ分離
- 役割ベースのアクセス制御
- 操作ログの記録
- データ暗号化（機密情報）

## 4. 主要な改善点

### 4.1 現在のシステムから追加する機能
1. **面談スケジュール管理**
   - 面談予定の登録・管理
   - 講師・生徒の空き時間管理
   - 面談リマインダー

2. **生徒タスク管理**
   - 宿題・課題の管理
   - 期限管理
   - 完了状況の追跡

3. **学習目標・進捗管理**
   - 目標設定機能
   - 進捗の可視化
   - 達成度分析

### 4.2 ダッシュボード改善
1. **生徒ダッシュボード**
   - 学習状況の一目でわかる表示
   - 進捗グラフ
   - 今後の予定・タスク一覧

2. **講師ダッシュボード**
   - 担当生徒の一覧
   - 今日の予定
   - 要注意生徒の抽出

3. **管理者ダッシュボード**
   - 組織全体の状況
   - 講師別の指導状況
   - 統計・分析情報

## 5. 技術仕様

### 5.1 データベース
- **PostgreSQL**（Supabase）
- **Row Level Security**による多組織対応
- **インデックス戦略**による高速検索

### 5.2 API設計
- **RESTful API**
- **リアルタイム更新**（Supabase Realtime）
- **バッチ処理**（統計計算用）

### 5.3 フロントエンド
- **React.js**
- **レスポンシブデザイン**
- **PWA対応**（将来的）

## 6. 実装優先度

### Phase 1（高優先度）
1. 現在のシステムの機能改善
2. 面談スケジュール管理の追加
3. 生徒タスク管理の追加
4. ダッシュボード UI/UX改善

### Phase 2（中優先度）
1. 学習目標・進捗管理
2. 高度な分析機能
3. 通知機能

### Phase 3（低優先度）
1. 生徒側インターフェース
2. 保護者機能
3. モバイルアプリ化（モバイルアプリじゃなくLINE連携）

## 7. 成功指標

### 7.1 業務効率化
- 指導記録作成時間の50%削減
- 面談スケジュール調整時間の70%削減
- タスク管理による宿題完了率の向上

### 7.2 可視化
- 生徒の学習状況を1画面で把握可能
- 進捗の定量的な測定
- 問題の早期発見

### 7.3 標準化
- 講師間での指導記録の統一
- 引継ぎ時の情報漏れ防止
- ベストプラクティスの共有 
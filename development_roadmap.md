# Edore学習管理システム 開発ロードマップ

## 📋 現在の状況（2024年12月時点）

### ✅ 完了済み機能
- **基本機能**: 生徒管理、講師管理、面談記録、指導履歴、模試結果
- **スケジュール管理**: 面談・指導スケジュール、カレンダー表示
- **タスク管理**: 生徒タスクの作成・編集・削除・完了
- **ダッシュボード**: 生徒個別ダッシュボード、統計情報表示
- **日付クリック機能**: カレンダーから直接予定・タスク管理
- **サイドバー固定**: スクロール時のサイドバー固定化

### 🔧 技術スタック
- **フロントエンド**: React, React Router
- **バックエンド**: Supabase (PostgreSQL + Auth + Real-time)
- **スタイリング**: CSS (Google Sheets風デザイン)
- **デプロイ**: 未定

---

## 🚀 開発ロードマップ（優先順位順）

## 1. モバイルレスポンシブデザイン強化 📱
**優先度**: 🔥 高（基盤として重要）
**期間**: 1-2週間

### 目標
講師がスマホ・タブレットで快適に使用できるようにする

### 対応項目
- [ ] **テーブル設計改善**
  - 横スクロール対応
  - カード形式での表示切り替え
  - 重要情報の優先表示

- [ ] **カレンダーのモバイル最適化**
  - タッチ操作対応
  - 小画面での見やすさ改善
  - スワイプ操作対応

- [ ] **フォームのモバイル対応**
  - 入力フィールドサイズ調整
  - キーボード表示時のレイアウト対応
  - バリデーション表示改善

- [ ] **ナビゲーション改善**
  - ハンバーガーメニュー
  - タッチフレンドリーなボタンサイズ
  - 戻るボタンの追加

- [ ] **タブレット対応**
  - 中間サイズ画面での最適化
  - 2カラムレイアウト対応

### 技術要件
```css
/* ブレークポイント設計 */
- Mobile: ~768px
- Tablet: 768px~1024px  
- Desktop: 1024px~
```

---

## 2. 管理者画面作成 👩‍💼
**優先度**: 🔶 中高（運用効率化）
**期間**: 2-3週間

### 目標
管理者が講師・組織を効率的に管理できるようにする

### 主要機能

#### 2.1 講師管理
- [ ] **講師一覧・検索**
  - 講師リスト表示
  - 名前・メール・権限での検索
  - 担当生徒数表示

- [ ] **講師アカウント管理**
  - 新規講師追加
  - 講師情報編集
  - アカウント有効化/無効化
  - パスワードリセット

- [ ] **権限管理**
  - 管理者・講師の権限設定
  - 機能別アクセス制御
  - 担当生徒の割り当て

#### 2.2 組織設定
- [ ] **基本情報管理**
  - 塾名・住所・連絡先
  - ロゴ・ブランディング設定
  - 営業時間設定

- [ ] **サブスクリプション管理**
  - プラン確認・変更
  - 利用制限表示
  - 請求情報管理

#### 2.3 データ管理
- [ ] **利用統計**
  - 生徒数・講師数推移
  - 機能利用状況
  - ストレージ使用量

- [ ] **バックアップ・エクスポート**
  - データエクスポート（CSV/Excel）
  - バックアップ作成
  - データ復元機能

### ルーティング設計
```
/admin/
├── dashboard        # 管理者ダッシュボード
├── teachers/        # 講師管理
├── organization/    # 組織設定
├── subscription/    # サブスクリプション
├── analytics/       # 分析・統計
└── data-export/     # データエクスポート
```

### 必要なテーブル追加
```sql
-- 権限管理テーブル
CREATE TABLE user_permissions (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    permission_name TEXT,
    granted BOOLEAN DEFAULT false
);

-- 組織設定テーブル
CREATE TABLE organization_settings (
    id UUID PRIMARY KEY,
    organization_id UUID REFERENCES organizations(id),
    setting_key TEXT,
    setting_value JSONB
);
```

---

## 3. 生徒用ダッシュボード作成 🎓
**優先度**: 🔶 中（将来の基盤）
**期間**: 3-4週間

### 目標
生徒が自分の学習状況を確認し、タスク管理できるようにする

### 主要機能

#### 3.1 認証・アカウント管理
- [ ] **生徒認証システム**
  - 生徒専用ログイン
  - シンプルな認証フロー
  - パスワード管理

#### 3.2 学習ダッシュボード
- [ ] **学習状況表示**
  - 今日のタスク一覧
  - 今週の予定
  - 最近の成績推移
  - 目標達成状況

#### 3.3 タスク管理
- [ ] **生徒向けタスク機能**
  - 自分のタスク確認
  - 完了報告
  - 進捗入力
  - 質問・コメント機能

#### 3.4 スケジュール確認
- [ ] **予定確認**
  - 面談・指導スケジュール表示
  - カレンダー表示
  - リマインダー機能

#### 3.5 成績・進捗確認
- [ ] **学習記録閲覧**
  - 模試結果推移
  - 指導履歴
  - 学習時間記録
  - 目標進捗

### 技術要件
```javascript
// 生徒用ルーティング
/student/
├── dashboard        # 生徒ダッシュボード
├── tasks/          # タスク管理
├── schedule/       # スケジュール
├── grades/         # 成績確認
└── profile/        # プロフィール
```

### 必要なテーブル追加
```sql
-- 生徒認証テーブル
CREATE TABLE student_auth (
    id UUID PRIMARY KEY,
    student_id UUID REFERENCES students(id),
    login_id TEXT UNIQUE,
    password_hash TEXT,
    last_login TIMESTAMP
);
```

---

## 4. LINE連携機能 📱💬
**優先度**: 🔷 中低（付加価値）
**期間**: 4-6週間

### 目標
生徒・保護者にタスクや面談の通知をLINEで送信する

### 主要機能

#### 4.1 LINE Bot 基本機能
- [ ] **アカウント連携**
  - LINE友達追加
  - 学生IDとの紐付け
  - 認証フロー

#### 4.2 通知機能
- [ ] **自動通知**
  - タスク期限リマインダー
  - 面談・指導スケジュール通知
  - 成績更新通知
  - 宿題提出リマインダー

#### 4.3 双方向機能
- [ ] **簡単な操作**
  - タスク完了報告
  - 面談確認・変更申請
  - 質問・相談メッセージ

### 技術スタック
```javascript
// 必要なサービス
- LINE Messaging API
- LINE Login API
- Webhook サーバー (Supabase Functions)
- Cron ジョブ (通知スケジューリング)
```

### 通知シナリオ設計
```
📅 タスク関連
- タスク作成時: 即座に通知
- 期限3日前: リマインダー通知
- 期限当日: 最終リマインダー
- 期限切れ: 遅延通知

📅 面談・指導関連  
- 予定作成時: 確認通知
- 前日: リマインダー通知
- 1時間前: 最終リマインダー

📊 成績関連
- 模試結果登録時: 結果通知
- 月次レポート: 進捗サマリー
```

### 必要なテーブル追加
```sql
-- LINE連携テーブル
CREATE TABLE line_integrations (
    id UUID PRIMARY KEY,
    student_id UUID REFERENCES students(id),
    line_user_id TEXT UNIQUE,
    display_name TEXT,
    connected_at TIMESTAMP DEFAULT NOW()
);

-- 通知履歴テーブル
CREATE TABLE notification_logs (
    id UUID PRIMARY KEY,
    student_id UUID REFERENCES students(id),
    notification_type TEXT,
    message TEXT,
    sent_at TIMESTAMP DEFAULT NOW(),
    status TEXT DEFAULT 'sent'
);
```

---

## 🛠️ 技術的な考慮事項

### セキュリティ
- [ ] **認証強化**
  - 2FA対応検討
  - セッション管理改善
  - API レート制限

- [ ] **データ保護**
  - 個人情報暗号化
  - アクセスログ記録
  - データバックアップ自動化

### パフォーマンス
- [ ] **最適化**
  - 画像最適化
  - Bundle サイズ削減
  - CDN導入検討

- [ ] **スケーラビリティ**
  - データベース最適化
  - インデックス見直し
  - キャッシュ戦略

### 運用・保守
- [ ] **監視・ログ**
  - エラー監視システム
  - パフォーマンス監視
  - ユーザー行動分析

- [ ] **テスト**
  - ユニットテスト追加
  - E2Eテスト環境構築
  - 自動テスト運用

---

## 📅 実装スケジュール提案

### Phase 1: 基盤強化（1-2週間）
1. **モバイルレスポンシブデザイン**
   - Week 1: テーブル・フォーム対応
   - Week 2: カレンダー・ナビゲーション対応

### Phase 2: 管理機能（2-3週間）  
2. **管理者画面**
   - Week 3-4: 講師管理・権限機能
   - Week 5: 組織設定・統計機能

### Phase 3: 生徒機能（3-4週間）
3. **生徒ダッシュボード**
   - Week 6-7: 認証・基本ダッシュボード
   - Week 8-9: タスク・スケジュール機能

### Phase 4: 連携機能（4-6週間）
4. **LINE連携**
   - Week 10-12: LINE Bot基本機能
   - Week 13-15: 通知・双方向機能

---

## 🎯 成功指標

### 定量的指標
- **利用率**: DAU/MAU の向上
- **効率性**: タスク作成〜完了時間の短縮
- **満足度**: ユーザーアンケート評価
- **保持率**: 月次継続利用率

### 定性的指標
- **使いやすさ**: モバイルでの操作性向上
- **効率化**: 管理業務の時間短縮
- **透明性**: 生徒・保護者の学習状況把握向上
- **コミュニケーション**: 通知・連絡の改善

---

## 📞 次のアクション

### 即座に開始可能
1. **モバイルレスポンシブデザイン**の詳細設計
2. **管理者画面**の画面設計・ワイヤーフレーム作成

### 検討・準備が必要  
3. **生徒認証システム**の方式決定
4. **LINE連携**の技術調査・アカウント準備

---

*このロードマップは開発状況に応じて適宜更新していきます。* 